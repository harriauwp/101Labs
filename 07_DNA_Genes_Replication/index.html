<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Lab 07 • DNA, Genes & Replication</title>
<style>
:root{--uwp-green:#016836;--accent:#FABA31}
*{box-sizing:border-box}html,body{margin:0;padding:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:#111;background:#fff}
header{padding:.75rem 1rem;border-bottom:2px solid var(--uwp-green);display:flex;justify-content:space-between;align-items:center}
main{max-width:960px;margin:0 auto;padding:1rem}
h1{font-size:1.25rem;margin:.25rem 0}
#progress{height:10px;background:#ddd;border-radius:6px;overflow:hidden;margin:.75rem 0}
#bar{height:100%;width:0;background:var(--uwp-green);transition:width .2s linear}
.small{font-size:.85rem;color:#333}
a{color:var(--uwp-green);text-decoration:none}
.btn{background:var(--uwp-green);color:#fff;border:0;border-radius:4px;padding:.45rem .7rem;font-weight:700;cursor:pointer}
.btn[disabled]{opacity:.5;cursor:not-allowed}
table{width:100%;border-collapse:collapse;margin-top:.5rem}
th,td{border-bottom:1px solid #eee;padding:.5rem .4rem;vertical-align:top}
th{font-size:.85rem;text-transform:uppercase;color:#222}
.level{font-weight:700;color:var(--uwp-green)}
.category{font-weight:600}
.stars{display:inline-flex;gap:.15rem}
.star{font-size:18px;color:#ddd;cursor:pointer}
.star.on{color:var(--accent)}
</style>
</head>
<body>
<header>
  <div><strong>UW‑Parkside</strong> • Lab 07 • DNA, Genes & Replication</div>
  <div class="small">07_DNA_Genes_Replication</div>
</header>
<main>
  <h1>I understand my goal → I hit the goal → I am confident → I can move on</h1>
  <div id="progress"><div id="bar"></div></div>

  <table aria-label="Goals">
    <thead><tr><th>Level</th><th>Category</th><th>Goal</th><th>✓</th><th>Confidence ★</th></tr></thead>
    <tbody>
      <!-- Add rows here or paste your Goals Tracker generator output -->
      <tr><td class="level">Coming Soon</td><td class="category">Setup</td><td>Replace this scaffold with your full goals list</td><td><input type="checkbox" id="g_0"></td>
      <td><div class="stars" data-id="g_0"><span class="star" data-star="1">★</span><span class="star" data-star="2">★</span><span class="star" data-star="3">★</span><span class="star" data-star="4">★</span><span class="star" data-star="5">★</span></div></td></tr>
    </tbody>
  </table>

  <div style="display:flex;gap:.5rem;margin:.75rem 0">
    <button id="next" class="btn" disabled>Next Unchecked ▶</button>
    <button id="reset" class="btn">Reset Progress</button>
  </div>
</main>

<script>
const KEY='lab_goals_tracker_07_DNA_Genes_Replication';
const saved=JSON.parse(localStorage.getItem(KEY)||'{}');
const checkboxes=[...document.querySelectorAll('input[type=checkbox]')];
const starsBars=document.querySelectorAll('.stars');
const bar=document.getElementById('bar');
const nextBtn=document.getElementById('next');
const resetBtn=document.getElementById('reset');

function render(){
  let total=checkboxes.length,done=0,first=null;
  checkboxes.forEach(cb=>{
    const v=(saved[cb.id]&&saved[cb.id].checked)||false;
    cb.checked=v;
    if(!v&&first===null) first=cb.id;
  });
  starsBars.forEach(b=>{
    const id=b.dataset.id;
    const rating=(saved[id]&&saved[id].rating)||0;
    Array.from(b.querySelectorAll('.star')).forEach(st=>{
      st.classList.toggle('on',Number(st.dataset.star)<=rating);
    });
  });
  done=checkboxes.filter(cb=>cb.checked).length;
  const pct=Math.round((done/total)*100)||0;
  bar.style.width=pct+'%';
  nextBtn.disabled=!first;
  nextBtn.dataset.target=first||'';
}
render();

checkboxes.forEach(cb=>cb.addEventListener('change',()=>{
  saved[cb.id]=saved[cb.id]||{};
  saved[cb.id].checked=cb.checked;
  localStorage.setItem(KEY,JSON.stringify(saved));
  render();
}));

starsBars.forEach(b=>b.addEventListener('click',e=>{
  if(!e.target.classList.contains('star')) return;
  const id=b.dataset.id;
  const val=Number(e.target.dataset.star);
  saved[id]=saved[id]||{};
  saved[id].rating=val;
  localStorage.setItem(KEY,JSON.stringify(saved));
  render();
}));

nextBtn.addEventListener('click',()=>{
  const id=nextBtn.dataset.target;
  if(!id) return;
  const el=document.getElementById(id);
  if(el){el.scrollIntoView({behavior:'smooth',block:'center'});el.focus();}
});

resetBtn.addEventListener('click',()=>{
  localStorage.removeItem(KEY);
  for(const k in saved){delete saved[k];}
  render();
});
</script>
</body>
</html>
